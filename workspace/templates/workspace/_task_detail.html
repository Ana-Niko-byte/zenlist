{% load static %}
<div class="accordion accordion-flush" id="taskDetailAccordion-{{task.id}}">
  <div class="accordion-item">
    <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-{{task.id}}" aria-expanded="true" aria-controls="panelsStayOpen-{{task.id}}">
            <h5 class="content">{{task.name}}</h5>
        </button>
      </h2>
      <!-- Accordion Body. -->
      <div id="panelsStayOpen-{{task.id}}" class="accordion-collapse collapse">
        <div class="accordion-body">
            <p>Due by : {{task.due_date}}</p>
            <p>Status : {{task.status | safe}}</p>
            <p>Priority : {{task.priority}}</p>
            {% if task.notes %}
            <p>Notes: {{task.notes | safe}}</p>
            {% endif %}
            <!-- Button trigger modal -->
            <!-- Not a form therefore does not need a form element. -->
            <a href="{% url 'task_edit' task.id %}">
              <button type="button" class="btn btn-edit btn-primary" data-task-id="{{task.id}}" id="taskEditSubmit" data-bs-toggle="modal" data-bs-target="#editModal{{task.id}}">
                Edit Task
              </button>
            </a>
            <button type="submit" data-task-id={{task.id}} class="btn btn-delete">
              Delete
            </button>
            <!-- /Button trigger modal -->
            <!-- include 'workspace/_modal.html' -->
            <!-- Delete confirmation modal -->
        </div>
      </div>
      <!-- /Accordion Body. -->
      <div class="modal fade" id="deleteModal" tabindex="-1"
      aria-labelledby="deleteModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"
              id="deleteModalLabel">Delete Task?</h5>
            <button type="button" class="btn-close"
              data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete your task?
            This action cannot be undone.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary"
              data-bs-dismiss="modal">Close</button>
            <a id="deleteConfirm" href="{% url 'task_delete' task.workspace.slug task.id %}" class="btn
              btn-danger">Delete</a>
          </div>
        </div>
      </div>
      </div>
  </div>
</div>